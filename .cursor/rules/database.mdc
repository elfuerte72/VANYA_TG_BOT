---
description:
globs:
alwaysApply: false
---
# Database Standards
description: Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ñ‹ Ğ¸ Ğ»ÑƒÑ‡ÑˆĞ¸Ğµ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ±Ğ°Ğ·Ğ°Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ

autoAttach:
  - "**/*.sql"
  - "**/models/*.py"
  - "**/schema.prisma"
  - "**/migrations/*.py"

### ğŸ—ƒï¸ Database Design
- Use clear and consistent naming conventions
- Tables should be named in plural form
- Primary keys should be named 'id'
- Foreign keys should follow pattern: `{table_name}_id`
- Use appropriate data types for columns
- Add appropriate indexes for frequently queried columns

### ğŸ”„ Migrations
- Every database change must have a migration
- Migrations must be reversible
- Test migrations on development before production
- Document complex migrations in comments
- Include data migrations when necessary

### ğŸ”’ Security
- Never store passwords in plain text
- Use parameterized queries to prevent SQL injection
- Implement proper access control
- Encrypt sensitive data
- Use secure connection strings
- Regular backup strategy

### ğŸ“Š Query Optimization
- Write efficient queries
- Use appropriate indexes
- Avoid N+1 query problems
- Use eager loading when appropriate
- Implement proper pagination
- Monitor query performance

### ğŸ—ï¸ Models
- Use descriptive model names
- Include field type annotations
- Document model relationships
- Implement proper validation
- Use appropriate constraints
- Keep models organized and clean

### ğŸ”Œ Connection Management
- Use connection pooling
- Implement proper error handling
- Close connections properly
- Monitor connection usage
- Handle connection timeouts
- Use appropriate connection settings
